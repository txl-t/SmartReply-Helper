# 智能回复助手微信小程序需求文档

## 1. 应用概述
\n### 1.1 应用名称
智能回复助手

### 1.2 应用描述
一款轻量级智能回复助手微信小程序，帮助用户快速生成多风格文字回复，支持场景识别、历史记录管理等功能，适用于职场、情感、社交等沟通场景。

## 2. 核心功能

### 2.1 智能回复生成
- 用户输入文字内容
- 系统自动生成3种不同风格的回复选项\n- 支持用户选择并查看不同风格的回复结果
\n### 2.2 场景识别与反馈\n- 系统自动识别用户输入的场景类型
- 可视化展示场景识别结果（职场/情感/社交）
- 在输入框下方实时显示识别标签
\n### 2.3 快捷标签
- 提供12个高频场景快捷标签
- 职场类：被批评了、向上级汇报、会议发言等
- 情感类：安慰朋友、表达爱意、拒绝示好等
- 社交类：群聊活跃、礼貌回应、委婉拒绝等
- 用户点击标签快速触发对应场景的智能回复\n
#### 2.3.1 提意见扭蛋机特殊标签
\n**入口外观设计**
- 尺寸：约普通标签1.5倍大小，高80rpx，宽120rpx
- 造型结构：\n  + 顶部：半球形透明玻璃罩，内部隐约可见3-4颗彩色扭蛋
  + 中间：金属质感投币口\n  + 右侧：红色小摇杆\n- 配色方案：马卡龙色系底座（薄荷绿/樱花粉）+ 半透明玻璃罩 + 彩色扭蛋（每颗颜色代表一种风格）
- 默认状态：摇杆垂直向上，扭蛋静止在球舱内，整体有轻微呼吸光晕

**交互全流程**
\n步骤1：启动
- 用户点击扭蛋机标签
- 摇杆动画：红色摇杆以30度角向下压，0.3秒内完成，伴有轻微弹簧回弹效果
- 视觉反馈：投币口闪烁金色光效，玻璃罩内扭蛋开始轻微晃动

步骤2：掉落过程\n- 音效触发：播放咔哒咔哒齿轮转动声（时长0.8秒，可系统设置关闭）
- 扭蛋掉落：一颗彩色扭蛋从玻璃罩底部出口滚落，沿弧形轨道滑向屏幕中央
- 物理效果：扭蛋落地后做2-3次弹跳，每次弹跳高度递减，最终静止时轻微摇晃
- 伴随特效：掉落轨迹留下彩色粒子拖尾，落地时有小星星✨四散

步骤3：扭蛋展开
- 扭蛋从中间裂开成两半，向左右旋转展开（像开门一样）
- 展开后，内部升起一张立体卡片，卡片尺寸约屏幕宽度的85%
- 卡片设计：
  + 顶部显示标题：如万能建议模板·共情版
  + 中部是3-4行建议文案，文字逐字淡入出现（打字机效果）
  + 底部有左右箭头提示滑动切换风格
  + 背景色与扭蛋颜色一致，带有轻微毛玻璃效果

步骤4：风格切换
- 卡片支持左右滑动或点击箭头切换三种模板：
  + 向左滑动：切换到更温和的风格
  + 向右滑动：切换到更直接的风格
- 三种风格可视化区分：
  + 严肃版：扭蛋深蓝色🥚 → 卡片蓝色渐变 → 标题配📊图标 → 文案简洁专业
  + 幽默版：扭蛋明黄色🥚 → 卡片黄色渐变 → 标题配😄图标 → 文案带俏皮话\n  + 共情版：扭蛋粉色🥚 → 卡片粉色渐变 → 标题配❤️图标 → 文案从对方角度出发
- 切换动效：卡片翻转 + 颜色渐变过渡，0.4秒完成，过渡时显示旋转的loading小星星

步骤5：确认使用\n- 用户选定模板后，点击卡片下方使用此建议按钮\n- 卡片收缩成一道光，飞入底部输入框
- 输入框自动填充文案，光标闪烁在可编辑位置
- 扭蛋机恢复初始状态，但玻璃罩内扭蛋随机更换颜色，暗示下次可能掉出不同惊喜

**细节增强体验**

1. 随机彩蛋机制
- 每点击10次，第11次会掉落金色闪粉扭蛋，内含大师级复合模板（融合三种风格）
- 金色扭蛋掉落时伴有烟花特效和特殊音效（叮铃铃～）

2. 摇杆交互深度
- 长按摇杆不松手，摇杆会持续下压，扭蛋会成串掉落（最多3颗）
- 每颗扭蛋卡片内容不同，可横向滑动像刷卡片一样浏览

3. 空状态提示
- 如果用户从未使用过，扭蛋机玻璃罩上有小手势提示动画
- 首次使用后，标签角落出现计数微章：已获得12个建议模板

4. 性能与容错
- 动画全部使用CSS3实现，保证低端机流畅
- 网络不佳时，扭蛋掉落动画正常，文案区域显示骨架屏
- 用户中途点击空白处，扭蛋自动收回，无强制完成流程
\n**整体氛围设计**
- 情感基调：轻松治愈，像玩游戏一样化解提意见的心理压力\n- 视觉风格：新拟态 + 轻质感，所有元素避免尖锐直角
- 动效原则：所有动画符合物理直觉（重力、弹性、惯性）
- 品牌印记：每次扭蛋展开时，蛋壳内壁有APP的mini logo水印\n
### 2.4 复制功能
- 为每个回复选项提供一键复制按钮
- 支持快速复制任意生成的回复内容
\n### 2.5 收藏功能
- 用户可收藏优质回复内容
- 收藏时自动关联当前场景标签
- 在历史记录中标识收藏内容（带星标）
- 左滑卡片出现收藏/取消收藏按钮

### 2.6 历史记录
- 本地存储用户最近50条使用记录
- 按时间分组展示：今天/昨天/本周/更早
- 顶部提供场景筛选按钮：全部/职场/情感/社交
- 左滑卡片出现收藏/删除按钮
- 显示场景标签和时间戳

## 3. 辅助功能

### 3.1 每日推荐
- 首页展示经典话术推荐
- 每日更新优质沟通案例
- 提供快速参考和灵感

### 3.2 暗黑模式
- 支持自动切换（根据系统设置）
- 支持手动切换（设置中选择）
- 提供舒适的视觉体验

## 4. 系统功能

### 4.1 加载状态与错误处理
- 生成回复时：按钮显示loading动画，文案变为生成中...
- 无网络：Toast提示网络开小差了，请检查网络\n- 内容违规：提示输入内容包含敏感信息，请调整后重试
- 生成超时（3秒）：自动返回默认话术兜底

### 4.2 内容安全校验
- 用户输入校验：调用wx.security.msgSecCheck检测
- 生成内容过滤：预置话术需人工审核，避免违规
- 敏感词兜底：预置敏感词库，检测到直接提示重新输入

### 4.3 数据存储
- 采用微信本地存储（非云开发）
- wx.setStorageSync('history', array) 存储历史记录\n- wx.setStorageSync('favorites', array) 存储收藏内容
- 无需后端，独立开发，审核更快

## 5. 微交互与UI细节

### 5.1 微交互彩蛋
- 按钮反馈：点击时冒出一圈小爱心或星星扩散消失
- 下拉刷新：顶部出现小猫爪印或小鱼游泳的动画
- 滚动视差：背景云朵以不同速度移动，营造层次感
- 点赞：图标从心碎💔到满血❤️的填充动画，伴随啵啵音效

### 5.2 UI趣味细节
- 标签页：选中状态时图标眨眼或轻微摇摆\n- 卡片：hover态边缘出现彩虹描边或糖果色阴影
- 输入框：聚焦时边框像贪吃蛇一样流动点亮
- 数字变化：使用翻牌器或弹珠动画效果

### 5.3 性能优化
- 动画优先使用CSS3 transform 和 opacity
- 复杂动画用Lottie或CSS Sprite图\n- 控制同时动画元素数量在15个以内
\n## 6. 产品差异化功能

### 6.1 回复强度调节器
- 用户可调节回复的委婉度或直接度
- 提供滑块或选项卡选择
\n### 6.2 关系亲密度标签
- 同一句话根据不同关系（上级/平级/下级）生成不同回复
- 提供关系选择按钮

## 7. 其他\n
### 7.1 用户协议与隐私政策
- 在我的页面增加《用户协议》和《隐私政策》